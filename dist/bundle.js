!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{const e=document.querySelectorAll(".shadow-block"),t=document.querySelector(".add-sentence-btn");t.addEventListener("click",n=>{e.forEach(e=>{e.parentElement.classList.remove("hidden"),e.parentElement.classList.remove("visible-sm-block"),t.classList.add("hidden")})})};var o=()=>{const e=document.querySelector(".slideInDown "),t=e.querySelectorAll("[role=tabpanel]");e.addEventListener("click",e=>{e.preventDefault();const n=e.target.closest(".panel-heading");n&&(t.forEach(e=>{e.classList.remove("in")}),n.nextElementSibling.classList.add("in"))})};var c=()=>{const e=document.querySelector(".capture-form"),t=document.querySelector(".main-form"),n=document.querySelector(".director-form"),r=document.querySelector(".popup-consultation");const o=function(){const e=document.createElement("p");return e.classList.add("message-text"),e.style.cssText="font-size: 1.5em; color: grey;",e.textContent="Отправка...",e}();let c={};function l(e){e.querySelector(".message-text")||e.append(o);const t=e.querySelector(".phone-user");if(!/\+|\d{8,18}/g.test(t.value))return void(o.textContent="Телефон введен неверно");o.textContent="Отправка...";const n=new FormData(e);n.forEach((e,t)=>{c[t]=e}),a(c).then(t=>{if(200!==t.status)throw new Error("Ошибка");n.forEach((t,n)=>{e.querySelector(`[name=${n}]`).value=""}),c={},o.textContent="Отправлено"}).catch(()=>{o.textContent="Ошибка"})}const a=e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});e.addEventListener("click",t=>{t.preventDefault(),t.target.matches(".capture-form-btn")&&l(e)}),t.addEventListener("click",e=>{e.preventDefault(),e.target.matches(".main-form-btn")&&l(t)}),r.addEventListener("click",e=>{e.preventDefault(),e.target.matches(".capture-form-btn")&&l(r.querySelector("form"))}),n.addEventListener("click",e=>{if(e.target.matches(".consultation-btn")){const e=n.querySelector("[name=user_quest]");c.user_quest=e.value,r.style.display="block"}});const s=document.querySelectorAll(".phone-user"),u=document.querySelectorAll("[name=user_name]");s.forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^0-9\+]/g,"")})}),u.forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^А-Я\s]/i,"")})})};(()=>{const e=document.querySelector(".popup-discount"),t=document.querySelector(".popup-call"),n=document.querySelector(".popup-check"),r=document.querySelector(".popup-consultation");document.addEventListener("click",o=>{o.preventDefault();const c=o.target;c.matches(".discount-btn")?e.style.display="block":c.matches(".call-btn")?t.style.display="block":c.matches(".check-btn")?n.style.display="block":c.matches(".consultation-btn")||!c.matches(".popup-close")&&c.closest(".capture-form")||(e.style.display="none",t.style.display="none",n.style.display="none",r.style.display="none")})})(),r(),o(),c()}]);